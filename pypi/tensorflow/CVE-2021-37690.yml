---
identifier: "CVE-2021-37690"
package_slug: "pypi/tensorflow"
title: "Use After Free"
description: "TensorFlow is an end-to-end open source platform for machine learning.
  some functions (such as `MutableHashTableShape`) produce extra output information
  in the form of a `ShapeAndType` struct. The shapes embedded in this struct are owned
  by an inference context that is cleaned up almost immediately; if the upstream code
  attempts to access this shape information, it can trigger a segfault. `ShapeRefiner`
  is mitigating this for normal output shapes by cloning them (and thus putting the
  newly created shape under ownership of an inference context that will not die),
  but we were not doing the same for shapes and types. This commit fixes that by doing
  similar logic on output shapes and types. We have patched the issue in GitHub commit
  ee119d4a498979525046fba1c3dd3f13a039fbb1. The fix will be included in TensorFlow
  We will also cherrypick this commit on TensorFlow, TensorFlow, and TensorFlow, as
  these are also affected and still in supported range."
date: "2021-08-19"
pubdate: "2021-08-13"
affected_range: ">=2.3.0,<2.3.4||>=2.4.0,<2.4.3||>=2.5.0,<=2.6.0"
fixed_versions:
- "2.3.4"
- "2.4.3"
affected_versions: "All versions starting from 2.3.0 before 2.3.4, all versions starting
  from 2.4.0 before 2.4.3, all versions starting from 2.5.0 up to 2.6.0"
not_impacted: "All versions before 2.3.0, all versions starting from 2.3.4 before
  2.4.0, all versions starting from 2.4.3 before 2.5.0, all versions after 2.6.0"
solution: "Upgrade to versions 2.3.4, 2.4.3 or above."
urls:
- "https://nvd.nist.gov/vuln/detail/CVE-2021-37690"
cvss_v2: "AV:L/AC:L/Au:N/C:P/I:P/A:P"
cvss_v3: "CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:L/A:H"
uuid: "c4465baa-bfb5-4c58-bb5d-e51d2daa47f8"
