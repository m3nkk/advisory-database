source_identifier: CVE-2013-5671
title: Remote Command Injection
description: "Unescaped user supplied input is passed to the command line for shell
  execution:\r\n\r\nfrom fog-dragonfly-0.8.2/lib/dragonfly/imagemagickutils.rb:\r\n\r\n20
  \    def convert(tempobject, args='', format=nil)\r\n 21       tempfile = newtempfile(format)\r\n
  22       run \"#{convertcommand} #{args} #{tempobject.path} #{tempfile.path}\"\r\n
  23       tempfile\r\n 24     end\r\n.\r\n.\r\n.\r\n\r\n61     def run(command)\r\n
  62       log.debug(\"Running command: #{command}\") if ImageMagickUtils.log_commands\r\n
  63       begin\r\n 64         result = #{command}"
date: "2013-09-01"
affected_range: '<=0.8.2'
fixed_versions: []
affected_versions: ""
solution: "This is a vulnerability in the fog-dragonfly gem, not a vulnerability in
  Dragonfly.\r\nPossibly related fixes in Dragonfly (cf links)."
urls:
- https://github.com/markevans/dragonfly/commit/47f95bd6b8af11fb0a44d6ab1c6f7d00d880cb68
- https://github.com/markevans/dragonfly/commit/ff141bb1d921fff506084b62a562f7a83d5e01fe#lib/dragonfly/image_magick/utils.rb
uuid: 2843db75-d4ea-4e71-8f43-1bb8eda857ae
package_slug: gem/fog-dragonfly
