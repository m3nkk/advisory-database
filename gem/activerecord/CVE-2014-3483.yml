source_identifier: CVE-2014-3483
title: SQL Injection Vulnerabilities Affecting PostgreSQL
description: "PostgreSQL adapter only. A bug in the SQL quoting code in ActiveRecord
  can allow an attacker to inject arbitrary SQL using carefully crafted values.\r\n\r\nOnly
  applications which query against either bitstring or range types are vulnerable.
  Depending on the version of Rails you're using, the vulnerable code will take either
  take the form of:\r\n\r\n```\r\nModel.where(bitstring: params[:some_value])\r\nModel.where(range:
  params[:from]..params[:to])\r\n```\r\n\r\nThe only feasible workaround for this
  issue is to not allow user controlled values to be used in queries with the affected
  data types. Upgrading is strongly advised."
date: "2014-07-02"
affected_range: '>4.0.0 <4.0.7||>4.1.0 <4.1.3'
fixed_versions:
- 4.0.7
- 4.1.3
affected_versions: 4.0.0-4.1.2
solution: Upgrade to latest or use workaround; see provided link (amended patch).
credit: Sean Griffin of Thoughtbot (vulnerability report), Jeff Jarmoc of Matasano
  and Charlie Somerville of GitHub (patch review)
urls:
- https://groups.google.com/forum/#!msg/rubyonrails-security/wDxePLJGZdI/WP7EasCJTA4J
- https://groups.google.com/forum/#!topic/rubyonrails-security/8GtfeYd6qI4
uuid: d319b633-ca62-44e1-9e1f-c6cc13507807
package_slug: gem/activerecord
